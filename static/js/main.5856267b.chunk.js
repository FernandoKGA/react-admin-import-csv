(this["webpackJsonptest-ra"]=this["webpackJsonptest-ra"]||[]).push([[0],{613:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImportButton=void 0;var n=r(10),a=r(693);Object.defineProperty(t,"ImportButton",{enumerable:!0,get:function(){return a.ImportButton}}),t.default=n.connect()(a.ImportButton)},684:function(e,t,r){e.exports=r(985)},693:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t},l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{u(n.next(e))}catch(t){o(t)}}function l(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}u((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImportButton=void 0;var s=c(r(0)),d=r(296),f=c(r(250)),p=r(296),m=r(952),v=r(977),h=c(r(500)),b=c(r(978)),y=c(r(979)),g=i(r(981)),w=c(r(501)),E=r(34);t.ImportButton=function(e){var t=p.useLocale(),r={es:n(n({},b.default),g.es),en:n(n({},h.default),g.en),cn:n(n({},y.default),g.cn)},a=w.default((function(e){return r[e]?r[e]:r.en}),t||d.resolveBrowserLocale()),o=e,i=o.parseConfig,c=o.logging,_=o.postCommitCallback,C=o.preCommitCallback,O=o.disableImportNew,P=o.disableImportOverwrite,I=e.variant,j=e.label,x=e.resource,k=e.resourceName;if(c&&console.log({props:e}),!x)throw new Error(a.translate("csv.error.emptyResource"));j||(j=a.translate("csv.main.import")),I||(I="text"),k||(k=x);var B=s.default.useState(!1),F=B[0],S=B[1],D=s.default.useState(!1),M=D[0],N=D[1],R=s.default.useState(null),T=R[0],q=R[1],A=s.default.useState(null),z=A[0],L=A[1],U=s.default.useState(null),G=U[0],J=U[1],H=d.useRefresh(),K=function(){S(!1),N(!1),q(null),L(null)},Q=function(e){void 0===e&&(e=!1),K(),e||(V(a.translate("csv.alert.imported")+" "+T),H()),e&&V(a.translate("csv.error.importing")+" "+T+", "+e,"error")},V=p.useNotify(),W=p.useDataProvider();return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Button,{color:"primary",component:"span",variant:I,label:j,onClick:function(){S(!0)}},s.default.createElement(f.default,{style:{transform:"rotate(180deg)",fontSize:"20"}})),s.default.createElement(E.Dialog,{open:F,onClose:K,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.default.createElement(E.DialogTitle,{id:"alert-dialog-title"},a.translate("csv.dialog.importTo"),' "',k,'"'),s.default.createElement(E.DialogContent,null,s.default.createElement("div",{id:"alert-dialog-description",style:{fontFamily:"sans-serif"}},s.default.createElement("p",{style:{margin:"0px"}},a.translate("csv.dialog.dataFileReq")),s.default.createElement("ol",null,s.default.createElement("li",null,a.translate("csv.dialog.extension")),s.default.createElement("li",null,a.translate("csv.dialog.idColumnCreate")),s.default.createElement("li",null,a.translate("csv.dialog.idColumnUpdate"))),s.default.createElement(E.Button,{variant:"contained",component:"label"},s.default.createElement("span",null,a.translate("csv.dialog.chooseFile")),s.default.createElement(f.default,{style:{transform:"rotate(180deg)",fontSize:"20"}}),s.default.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){return l(void 0,void 0,void 0,(function(){var t,r,n;return u(this,(function(a){switch(a.label){case 0:t=e.target.files&&e.target.files[0],q(t.name),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,m.processCsvFile(t,i)];case 2:return r=a.sent(),c&&console.log({values:r}),L(r),J(null),[3,4];case 3:return n=a.sent(),console.error(n),L(null),J(n.toString()),[3,4];case 4:return[2]}}))}))},accept:".csv,.tsv,.txt"})),!!T&&s.default.createElement("p",{style:{marginBottom:"0px"}},a.translate("csv.dialog.processed"),": ",s.default.createElement("strong",null,T)),!!z&&s.default.createElement("p",{style:{margin:"0px"}},a.translate("csv.dialog.rowCount"),": ",s.default.createElement("strong",null,z.length)),!!G&&s.default.createElement("p",{style:{margin:"0px",color:"red"}},G))),s.default.createElement(E.DialogActions,null,s.default.createElement(E.Button,{onClick:K},s.default.createElement("span",null,a.translate("csv.dialog.cancel"))),s.default.createElement(E.Button,{disabled:!z||M||O,onClick:function(){return l(void 0,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:N(!0),t.label=1;case 1:if(t.trys.push([1,3,,4]),z.some((function(e){return e.id})))throw new Error(a.translate("csv.error.hasId"));return C&&L(C("create",z)),[4,v.create(W,x,z,_)];case 2:return t.sent(),Q(),[3,4];case 3:return e=t.sent(),Q(e),[3,4];case 4:return[2]}}))}))},color:"secondary",variant:"contained"},M&&s.default.createElement(E.CircularProgress,{size:18,thickness:2}),s.default.createElement("span",null,a.translate("csv.dialog.importNew"))),s.default.createElement(E.Button,{disabled:!z||M||P,onClick:function(){return l(void 0,void 0,void 0,(function(){return u(this,(function(e){N(!0);try{if(z.some((function(e){return!e.id})))throw new Error(a.translate("csv.error.noId"));C&&L(C("overwrite",z)),v.update(W,x,z,_).then((function(){return Q()})).catch((function(e){return Q(e)}))}catch(t){Q(t)}return[2]}))}))},color:"primary",variant:"contained"},M&&s.default.createElement(E.CircularProgress,{size:18,thickness:2}),s.default.createElement("span",null,a.translate("csv.dialog.importOverride"))))))}},952:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{u(n.next(e))}catch(t){o(t)}}function l(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.processCsvData=t.getCsvData=t.processCsvFile=void 0;var l=r(953),u=i(r(954)),c=i(r(976)),s=function(e,t,r){var n=u.default(t.split("."));return c.default(n,(function(){return r}),e||{})};function d(e,t){return void 0===t&&(t={}),a(this,void 0,void 0,(function(){var r;return o(this,(function(a){return r={},!!t&&"object"===typeof t&&(r=t),[2,new Promise((function(t,a){return l.parse(e,n(n({delimiter:",",skipEmptyLines:!0},r),{complete:function(e){return t(e.data)},error:function(e){return a(e)}}))}))]}))}))}function f(e){if(Array.isArray(e[0])){var t=e[0];return e.slice(1).map((function(e){var r={};return t.forEach((function(t,n){r=s(r,t,e[n])})),r}))}var r=[];return e.forEach((function(e){var t={};for(var n in e)t=s(t,n,e[n]);r.push(t)})),r}t.processCsvFile=function(e,t){return void 0===t&&(t={}),a(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return e?[4,d(e,t)]:[2];case 1:return[2,f(r.sent())]}}))}))},t.getCsvData=d,t.processCsvData=f},977:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{u(n.next(e))}catch(t){o(t)}}function l(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.update=t.create=void 0,t.create=function(e,t,r,i){return void 0===i&&(i=null),a(this,void 0,void 0,(function(){var a;return o(this,(function(o){switch(o.label){case 0:return i?(a=[],[4,Promise.all(r.map((function(r){return e.create(t,{data:r}).then((function(){return a.push(n(n({},r),{success:!0}))})).catch((function(e){return a.push(n(n({},r),{success:!1,err:e}))}))}))).finally((function(){return i(a)}))]):[3,2];case 1:return o.sent(),[2];case 2:return[2,Promise.all(r.map((function(r){return e.create(t,{data:r})})))]}}))}))},t.update=function(e,t,r,i){return void 0===i&&(i=null),a(this,void 0,void 0,(function(){var a;return o(this,(function(o){switch(o.label){case 0:return i?(a=[],[4,Promise.all(r.map((function(r){return e.update(t,{id:r.id,data:r}).then((function(){return a.push(n(n({},r),{success:!0}))})).catch((function(e){return a.push(n(n({},r),{success:!1,err:e}))}))}))).finally((function(){return i(a)}))]):[3,2];case 1:return o.sent(),[2];case 2:return[2,Promise.all(r.map((function(r){return e.update(t,{id:r.id,data:r})})))];case 3:return[2]}}))}))}},981:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(982);Object.defineProperty(t,"es",{enumerable:!0,get:function(){return n.default}});var a=r(983);Object.defineProperty(t,"en",{enumerable:!0,get:function(){return a.default}});var o=r(984);Object.defineProperty(t,"cn",{enumerable:!0,get:function(){return o.default}})},982:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={csv:{main:{import:"Importar"},error:{noId:"Sobrescribir requiere el campo 'id'",hasId:"Crear no debe incluir el campo 'id'",importing:"Error al importar",emptyResource:"La propiedad 'resource' esta vacia. \xbfFue pasada {...props} al componente `ImportButton`?"},alert:{imported:"Importado "},dialog:{importTo:"Importar para",dataFileReq:"Requisitos del archivo",extension:"Debe ser un archivo '.csv' o '.tsv'",idColumnCreate:"No debe contener una columna 'id' para nuevo",idColumnUpdate:"Debe contener una columna 'id' para sobrescribir",chooseFile:"Elija Archivo",processed:"Procesado",rowCount:"Cuenta de filas",cancel:"Cancelar",importNew:"Importar nuevo",importOverride:"Importar y sobrescribir "}}}},983:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={csv:{main:{import:"Import"},error:{noId:"Overwrite requires field 'id'",hasId:"Create should not include field 'id'",importing:"Error importing",emptyResource:"The 'resource' property was empty, did you pass in the {...props} to the ImportButton?"},alert:{imported:"Imported"},dialog:{importTo:"Import to",dataFileReq:"Data file requirements",extension:"Must be a '.csv' or '.tsv' file",idColumnCreate:"Must not contain an 'id' column for new",idColumnUpdate:"Must contain an 'id' column for overwrite",chooseFile:"Choose File",processed:"Processed",rowCount:"Row Count",cancel:"Cancel",importNew:"Import as New",importOverride:"Import as Overwrite "}}}},984:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={csv:{main:{import:"\u5bfc\u5165"},error:{noId:"\u8986\u76d6\u66f4\u65b0\u8bb0\u5f55\u65f6\uff0c\u5fc5\u987b\u5305\u542b'id'\u5b57\u6bb5",hasId:"\u521b\u5efa\u65b0\u8bb0\u5f55\u65f6\uff0c\u4e0d\u80fd\u5305\u542bid\u5b57\u6bb5",importing:"\u5bfc\u5165\u65f6\u53d1\u751f\u9519\u8bef",emptyResource:"'resource' \u5c5e\u6027\u4e3a\u7a7a,\u4f60\u662f\u5426\u5c06{...props}\u8bbe\u7f6e\u5230ImportButton\u4e86?"},alert:{imported:"\u5bfc\u5165\u5b8c\u6210"},dialog:{importTo:"\u5bfc\u5165\u5230",dataFileReq:"\u6570\u636e\u6587\u4ef6\u8981\u6c42",extension:"\u5bfc\u5165\u53ea\u652f\u6301'.csv' \u6216 '.tsv'\u7684\u6587\u4ef6\u7c7b\u578b",idColumnCreate:"\u65b0\u589e\u65f6\u4e0d\u80fd\u5305\u542b'id'\u7684\u5217",idColumnUpdate:"\u66f4\u65b0\u65f6\u5fc5\u987b\u5305\u542b'id'\u7684\u5217",chooseFile:"\u9009\u62e9\u6587\u4ef6",processed:"\u5904\u7406",rowCount:"\u8bb0\u5f55\u5408\u8ba1",cancel:"\u53d6\u6d88",importNew:"\u65b0\u589e\u5bfc\u5165",importOverride:"\u66f4\u65b0\u5bfc\u5165 "}}}},985:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(20),i=r.n(o),l=r(604),u=r(585),c=r(662),s=r(91),d=r(603),f=r(200),p=r(97),m=r(496),v=r(493),h=r(492),b=r(157),y=r(340),g=r(291),w=r(338),E=r(81),_=r(156),C=r(613),O=r(491),P=function(e){var t=e.className,r=e.basePath,a={logging:!0,postCommitCallback:function(e){return console.log("Report",e)},disableImportNew:!1,disableImportOverwrite:!1};return n.createElement(s.a,{className:t},n.createElement(O.a,{basePath:r}),n.createElement(C.ImportButton,Object.assign({},e,a)))},I=function(e){return n.createElement(d.a,Object.assign({},e,{actions:n.createElement(P,null)}),n.createElement(f.a,null,n.createElement(p.a,{source:"id"}),n.createElement(p.a,{source:"title"}),n.createElement(m.a,{label:""}),n.createElement(v.a,{label:""}),n.createElement(h.a,{label:"",redirect:!1})))},j=function(e){return n.createElement(b.b,e,n.createElement(y.a,null,n.createElement(p.a,{source:"id"}),n.createElement(p.a,{source:"title"})))},x=function(e){return n.createElement(g.b,e,n.createElement(w.a,null,n.createElement(E.a,{source:"id"}),n.createElement(E.a,{source:"title"})))},k=function(e){return n.createElement(_.b,e,n.createElement(w.a,null,n.createElement(E.a,{disabled:!0,source:"id"}),n.createElement(E.a,{source:"title"})))},B=Object(c.a)({posts:[{id:0,title:"Hello, world!"},{id:1,title:"FooBar"},{id:2,title:"Another"},{id:3,title:"Thing"}]}),F=function(){return a.a.createElement(l.a,{dataProvider:B},a.a.createElement(u.a,{name:"posts",list:I,show:j,edit:k,create:x}))};i.a.render(a.a.createElement(F,null),document.getElementById("root"))}},[[684,1,2]]]);
//# sourceMappingURL=main.5856267b.chunk.js.map